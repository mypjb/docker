apiVersion: gateway.solo.io/v1
kind: VirtualService
metadata:
  name: k8s-ui
  namespace: gloo-system
spec:
  displayName: k8s-ui
  sslConfig:
    secretRef:
      name: kubernetes-dashboard-certs
      namespace: kubernetes-dashboard
    sniDomains:
    - ui.k8s.lass.net
  virtualHost:
    domains:
    - ui.k8s.lass.net
    options:
      headerManipulation:
        requestHeadersToAdd:
        - append: false
          header:
            key: Authorization
            value: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjZ5YThGUnVMOGxuUE5ZZUxiZ0NxZkJhNlFyVVlTQ0U4S2w1SVdXbHN6S2MifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJzdXBlci1hZG1pbi10b2tlbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJzdXBlci1hZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjcxNTZhNDEyLTgxNjAtNGVhMC1hMmI3LWUwNGZlNDdmOTM1OCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlcm5ldGVzLWRhc2hib2FyZDpzdXBlci1hZG1pbiJ9.oWsYxQ6ikyCfdkfZLJ-0Dy_wUoKbQhS5l8yi5xga6bIDE6vZetP4xSuVdvCca8CU5WNGrieYaqbTVdneACx1XeulRvoe4Z4XIC7ZgJa5WOaDxHO7ScDYwOaHzvnZ3md17zeN6-7ER16fUnA2qYEdDajwoMYiC0ffFnOvNR7VCgJABMZr6__T5-_XfjQrSAZovxoZTpnczvmIavTruOlD2OvJAVm9o2qxu1w6IBI4EwGTuYoynz0QV7NNyhyT6otRtXry-XFmGjaYu_8VkjCWlSdu4uzVS9_20YpMeCop6UFLtzhhikG-h0LfhJVwrAastNOt7jgqHFKxqPpgFl-38Q
    routes:
    - matchers:
      - prefix: /
      routeAction:
        single:
          upstream:
            name: kubernetes-dashboard-kubernetes-dashboard-443
            namespace: gloo-system
