apiVersion: gateway.solo.io/v1
kind: VirtualService
metadata:
  name: k8s-ui
  namespace: gloo-system
spec:
  displayName: k8s-ui
  sslConfig:
    secretRef:
      name: kubernetes-dashboard-certs
      namespace: kubernetes-dashboard
    sniDomains:
    - ui.k8s.lass.net
  virtualHost:
    domains:
    - ui.k8s.lass.net
    options:
      headerManipulation:
        requestHeadersToAdd:
        - append: false
          header:
            key: Authorization
            value: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImFXVGduVDgzZDV1bzI5aFVxUUVMVnNZdVNQYzY1WG91U25yN1lWRm1VaFkifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJzdXBlci1hZG1pbi10b2tlbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJzdXBlci1hZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6ImFlYjY2ODE0LWZkYmUtNDIzZi04ODQ2LWFlMjdkNDhmY2RiOSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlcm5ldGVzLWRhc2hib2FyZDpzdXBlci1hZG1pbiJ9.W1N-kkT9FfVGVvU22GvVPQLWB5oR3y6j_tQpZW2Y-ulek_Tk7VCTWymBVZ0iL91hrSsbeFFkDDZpAuJer8a4FW5gGlnPPtdHo2qn_RT_Yu__zMjIGC7cmCKSRIBDUmPTp-qjZ58VW1B8p10Y54Xt6Hl1QTPKybYL15GlnmpsM0OkYtdS10r_KF23c3V1HvO-JfMefEgh9mOkkZET3Cv7VMpWXyIA9DRKLzEzXZ-5OYKotTdcHq_doaFErMB30tEfFDnoHGwm2WQP5iAzogkZvkMcBiGeXyPYqkREAIrCJxZcueN51KaILpknJ5-bw0xGENqFqFRo8fPhgJHiOjCQ4g
    routes:
    - matchers:
      - prefix: /
      routeAction:
        single:
          upstream:
            name: kubernetes-dashboard-kubernetes-dashboard-443
            namespace: gloo-system
